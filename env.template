# ============================================
# AI Pic Center - 环境变量配置模板
# ============================================
# 复制此文件为 .env.local 并填入你的实际配置
# 注意：不要提交 .env.local 到 Git！

# ============================================
# 1. 应用基础配置
# ============================================

# 应用 URL（开发环境通常是 localhost:3000，生产环境填写实际域名）
NEXT_PUBLIC_APP_URL=http://localhost:3000

# ============================================
# 2. Gemini API 配置（必需 - 用于聊天和文本生成）
# ============================================

# Google AI Studio API Key
# 获取地址: https://aistudio.google.com/app/apikey
# 格式: AIzaSy...（以 AIzaSy 开头）
GOOGLE_GEMINI_API_KEY=你的Gemini_API密钥

# Gemini 模型名称（默认: gemini-2.5-flash）
# 可选值: gemini-2.5-flash, gemini-2.5-pro, gemini-1.5-flash, gemini-1.5-pro
GOOGLE_GEMINI_MODEL=gemini-2.5-flash

# 前端使用的 Gemini API Key（如果前端需要直接调用，通常与上面相同）
NEXT_PUBLIC_GEMINI_API_KEY=你的Gemini_API密钥

# 图像生成使用的 Gemini 模型（如果未配置 Vertex AI，会使用此模型）
GOOGLE_GEMINI_IMAGE_MODEL=gemini-2.5-pro

# ============================================
# 3. Vertex AI Imagen API 配置（可选 - 用于专业图像生成）
# ============================================
# 如果配置了 Vertex AI，图像生成会优先使用 Vertex AI（效果更好）
# 如果未配置，会自动回退到 Gemini API

# Google Cloud 项目 ID
# 获取方式: Google Cloud Console > 项目设置 > 项目 ID
VERTEX_AI_PROJECT_ID=你的项目ID

# Vertex AI 区域
# 常用值: us-central1, us-east1, europe-west1, asia-east1
# 推荐: us-central1（美国中部，速度较快）
VERTEX_AI_LOCATION=us-central1

# Imagen 模型名称
# 推荐: imagegeneration@006（Imagen 3.0）
# 可选: imagen-3.0-generate-001
VERTEX_AI_IMAGE_MODEL=imagegeneration@006

# 认证方式（二选一，推荐使用 Access Token）

# 方式1: Access Token（简单，但需要定期更新，有效期约1小时）
# 获取方式: gcloud auth print-access-token
# 或访问: https://developers.google.com/oauthplayground/
# 选择作用域: https://www.googleapis.com/auth/cloud-platform
VERTEX_AI_ACCESS_TOKEN=你的AccessToken

# 方式2: Service Account JSON（推荐，自动刷新，但需要安装依赖）
# 获取方式: Google Cloud Console > IAM > 服务账号 > 创建服务账号 > 创建密钥 > JSON
# 安装依赖: npm install google-auth-library
# 注意: 将整个 JSON 内容作为一行字符串，或使用 \n 表示换行
# VERTEX_AI_SERVICE_ACCOUNT={"type":"service_account","project_id":"...","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"...","client_id":"...","auth_uri":"https://accounts.google.com/o/oauth2/auth","token_uri":"https://oauth2.googleapis.com/token","auth_provider_x509_cert_url":"https://www.googleapis.com/oauth2/v1/certs","client_x509_cert_url":"..."}

# ============================================
# 4. 数据库配置（SQLite - 开发环境）
# ============================================

# SQLite 数据库路径（默认使用项目内的 dev.db）
# 通常不需要修改，除非你想使用其他数据库文件
DATABASE_URL="file:./prisma/dev.db"

# ============================================
# 5. 认证配置
# ============================================

# JWT 密钥（用于用户认证 Token）
# 生产环境必须修改为随机字符串（至少32个字符）
# 生成方式: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-in-production

# JWT Token 过期时间（默认: 7d）
# 格式: 数字 + 单位（如 7d, 24h, 30m）
JWT_EXPIRES_IN=7d

# ============================================
# 6. 短信服务配置（可选 - 用于验证码发送）
# ============================================
# 开发环境默认使用模拟发送（不会真正发送短信）

# 短信服务提供商
# 可选值: mock（模拟，开发环境默认）, aliyun（阿里云）, tencent（腾讯云）, ronglian（容联云）
SMS_PROVIDER=mock

# 阿里云短信配置
# ALIYUN_ACCESS_KEY_ID=你的AccessKeyId
# ALIYUN_ACCESS_KEY_SECRET=你的AccessKeySecret
# ALIYUN_SMS_SIGN_NAME=你的签名名称
# ALIYUN_SMS_TEMPLATE_CODE=你的模板代码

# 腾讯云短信配置
# TENCENT_SECRET_ID=你的SecretId
# TENCENT_SECRET_KEY=你的SecretKey
# TENCENT_SMS_APP_ID=你的AppId
# TENCENT_SMS_SIGN_NAME=你的签名名称
# TENCENT_SMS_TEMPLATE_ID=你的模板ID

# 容联云短信配置
# RONGLIAN_ACCOUNT_SID=你的AccountSid
# RONGLIAN_AUTH_TOKEN=你的AuthToken
# RONGLIAN_APP_ID=你的AppId
# RONGLIAN_TEMPLATE_ID=你的模板ID

# ============================================
# 7. 微信支付配置（可选 - 用于支付功能）
# ============================================

# 微信支付 AppID
WECHAT_PAY_APP_ID=你的微信支付AppID

# 微信支付商户号
WECHAT_PAY_MCH_ID=你的商户号

# 微信支付 API 密钥
WECHAT_PAY_API_KEY=你的API密钥

# 微信支付回调通知 URL
# 格式: https://yourdomain.com/api/payment/wechat/notify
# 开发环境可以使用 ngrok 等工具: https://your-ngrok-url.ngrok.io/api/payment/wechat/notify
WECHAT_PAY_NOTIFY_URL=https://yourdomain.com/api/payment/wechat/notify

# ============================================
# 8. 代理配置（可选 - 如果需要通过代理访问 API）
# ============================================
# 如果在中国大陆，可能需要配置代理才能访问 Google API

# 代理 URL（优先级: GEMINI_PROXY_URL > HTTPS_PROXY > HTTP_PROXY）
# 格式: http://proxy-server:port 或 http://username:password@proxy-server:port
# 示例: http://127.0.0.1:7890 或 http://34.66.134.109:3128
GEMINI_PROXY_URL=http://your-proxy-server:port

# 或使用标准的 HTTPS 代理环境变量
# HTTPS_PROXY=http://your-proxy-server:port
# HTTP_PROXY=http://your-proxy-server:port

# ============================================
# 9. 文件存储配置（可选 - 用于文件上传系统）
# ============================================

# 存储提供商
# 可选值: local（本地文件系统，默认）, s3（AWS S3）, r2（Cloudflare R2）, oss（阿里云OSS）, minio（MinIO）
STORAGE_PROVIDER=local

# 本地存储路径（仅当 STORAGE_PROVIDER=local 时使用）
STORAGE_LOCAL_PATH=./storage

# AWS S3 配置（仅当 STORAGE_PROVIDER=s3 时使用）
# S3_BUCKET=your-bucket-name
# S3_REGION=us-east-1
# S3_ACCESS_KEY_ID=your-access-key-id
# S3_SECRET_ACCESS_KEY=your-secret-access-key
# S3_ENDPOINT=https://s3.amazonaws.com

# Cloudflare R2 配置（仅当 STORAGE_PROVIDER=r2 时使用）
# R2_BUCKET=your-bucket-name
# R2_ACCOUNT_ID=your-account-id
# R2_ACCESS_KEY_ID=your-access-key-id
# R2_SECRET_ACCESS_KEY=your-secret-access-key
# R2_ENDPOINT=https://your-account-id.r2.cloudflarestorage.com

# 阿里云 OSS 配置（仅当 STORAGE_PROVIDER=oss 时使用）
# OSS_BUCKET=your-bucket-name
# OSS_REGION=oss-cn-shanghai
# OSS_ACCESS_KEY_ID=your-access-key-id
# OSS_ACCESS_KEY_SECRET=your-access-key-secret
# OSS_ENDPOINT=https://oss-cn-shanghai.aliyuncs.com

# MinIO 配置（仅当 STORAGE_PROVIDER=minio 时使用）
# MINIO_BUCKET=your-bucket-name
# MINIO_ENDPOINT=http://localhost:9000
# MINIO_ACCESS_KEY=your-access-key
# MINIO_SECRET_KEY=your-secret-key
# MINIO_USE_SSL=false

# ============================================
# 10. 内容审核配置（可选 - 用于文件上传内容审核）
# ============================================

# 内容审核提供商
# 可选值: mock（模拟，开发环境默认）, aliyun（阿里云）, tencent（腾讯云）, baidu（百度）
MODERATION_PROVIDER=mock

# 阿里云内容安全配置（仅当 MODERATION_PROVIDER=aliyun 时使用）
# 获取方式: 阿里云控制台 > 内容安全 > API密钥
# ALIYUN_ACCESS_KEY_ID=your-access-key-id
# ALIYUN_ACCESS_KEY_SECRET=your-access-key-secret
# ALIYUN_REGION=cn-shanghai

# 腾讯云内容安全配置（仅当 MODERATION_PROVIDER=tencent 时使用）
# 获取方式: 腾讯云控制台 > 访问管理 > API密钥管理
# TENCENT_SECRET_ID=your-secret-id
# TENCENT_SECRET_KEY=your-secret-key
# TENCENT_REGION=ap-shanghai

# 百度内容审核配置（仅当 MODERATION_PROVIDER=baidu 时使用）
# 获取方式: 百度智能云控制台 > API密钥
# BAIDU_API_KEY=your-api-key
# BAIDU_SECRET_KEY=your-secret-key

# ============================================
# 配置说明
# ============================================
# 
# 必需配置:
# - GOOGLE_GEMINI_API_KEY（用于聊天和文本生成）
# - JWT_SECRET（用于用户认证）
# 
# 推荐配置:
# - VERTEX_AI_*（用于专业图像生成，效果更好）
# - STORAGE_PROVIDER（文件上传系统，默认使用本地存储）
# 
# 可选配置:
# - SMS_PROVIDER（如果需要真实短信验证码）
# - WECHAT_PAY_*（如果需要支付功能）
# - GEMINI_PROXY_URL（如果需要代理访问）
# - MODERATION_PROVIDER（如果需要内容审核，生产环境强烈建议配置）
# 
# 注意事项:
# 1. 所有包含 "你的XXX" 的地方都需要替换为实际值
# 2. 不要将 .env.local 文件提交到 Git
# 3. Access Token 会过期，需要定期更新
# 4. 生产环境必须修改 JWT_SECRET 为强随机字符串
# 5. 如果使用 Service Account，需要安装: npm install google-auth-library
# 6. 文件上传系统可选依赖:
#    - sharp（图像处理）: npm install sharp
#    - fluent-ffmpeg（视频/音频处理）: npm install fluent-ffmpeg
#    - pdf-parse（PDF处理）: npm install pdf-parse
#    - @aws-sdk/client-s3（S3支持）: npm install @aws-sdk/client-s3 @aws-sdk/s3-request-presigner
# 7. 生产环境强烈建议配置内容审核服务（MODERATION_PROVIDER）
# 8. 大文件上传建议使用对象存储（S3/R2/OSS）而非本地存储



